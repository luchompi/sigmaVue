{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'LogIn',\n\n  data() {\n    return {\n      username: '',\n      password: ''\n    };\n  },\n\n  methods: {\n    submitForm(e) {\n      axios.defaults.headers.common['Authorization'] = '';\n      localStorage.removeItem('access');\n      const formData = {\n        username: this.username,\n        password: this.password\n      };\n      axios.post('/api/v1/jwt/create/', formData).then(response => {\n        const access = response.data.access;\n        this.$store.commit('setAccess', access);\n        axios.defaults.headers.common['Authorization'] = 'JWT ' + access;\n        localStorage.setItem('access', access);\n        this.$router.push('/');\n        console.log(response);\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAcA,OAAOA,KAAP,MAAkB,OAAlB;AACA,eAAe;EACbC,IAAI,EAAE,OADO;;EAEbC,IAAI,GAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EADL;MAELC,QAAQ,EAAE;IAFL,CAAP;EAID,CAPY;;EAQbC,OAAO,EAAC;IACNC,UAAU,CAACC,CAAD,EAAG;MACXP,KAAK,CAACQ,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAA+C,EAA/C;MACAC,YAAY,CAACC,UAAb,CAAwB,QAAxB;MACA,MAAMC,QAAO,GAAI;QACjBV,QAAQ,EAAE,KAAKA,QADE;QAEjBC,QAAQ,EAAE,KAAKA;MAFE,CAAjB;MAIAJ,KAAK,CAACc,IAAN,CAAW,qBAAX,EAAiCD,QAAjC,EACKE,IADL,CACUC,QAAQ,IAAE;QACd,MAAMC,MAAK,GAAID,QAAQ,CAACd,IAAT,CAAce,MAA7B;QACA,KAAKC,MAAL,CAAYC,MAAZ,CAAmB,WAAnB,EAA+BF,MAA/B;QACAjB,KAAK,CAACQ,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAA+C,SAAOO,MAAtD;QACAN,YAAY,CAACS,OAAb,CAAqB,QAArB,EAA8BH,MAA9B;QACA,KAAKI,OAAL,CAAaC,IAAb,CAAkB,GAAlB;QACAC,OAAO,CAACC,GAAR,CAAYR,QAAZ;MACD,CARL,EASKS,KATL,CASWC,KAAK,IAAE;QACZH,OAAO,CAACC,GAAR,CAAYE,KAAZ;MACD,CAXL;IAYF;;EApBM;AARK,CAAf","names":["axios","name","data","username","password","methods","submitForm","e","defaults","headers","common","localStorage","removeItem","formData","post","then","response","access","$store","commit","setItem","$router","push","console","log","catch","error"],"sourceRoot":"","sources":["/home/mint/PycharmProjects/sigmaVue/frontend/src/views/LogIn.vue"],"sourcesContent":["<template>\n  <div id=\"LogIn\">\n    <h1>LogIn Page</h1>\n     <form v-on:submit.prevent=\"submitForm\">\n      <label>Usuario</label>\n      <input type=\"username\" name=\"username\" v-model=\"username\"> <br><br>\n      <label>Contrase√±a</label>\n      <input type=\"password\" name=\"password\" v-model=\"password\"> <br><br>\n      <button type=\"submit\">Iniciar Sesion</button>\n    </form>\n\n  </div>\n</template>\n<script>\nimport axios from 'axios'\nexport default {\n  name: 'LogIn',\n  data() {\n    return {\n      username: '',\n      password: ''\n    }\n  },\n  methods:{\n    submitForm(e){\n      axios.defaults.headers.common['Authorization']=''\n      localStorage.removeItem('access')\n      const formData = {\n      username: this.username,\n      password: this.password\n      }\n      axios.post('/api/v1/jwt/create/',formData)\n          .then(response=>{\n            const access = response.data.access\n            this.$store.commit('setAccess',access)\n            axios.defaults.headers.common['Authorization']='JWT '+access\n            localStorage.setItem('access',access)\n            this.$router.push('/')\n            console.log(response)\n          })\n          .catch(error=>{\n            console.log(error)\n          })\n    }\n  }\n}\n</script>"]},"metadata":{},"sourceType":"module"}